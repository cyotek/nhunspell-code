<?xml version="1.0" encoding="utf-8"?>

<!-- Build configuration for NHunspell -->
<BuildConfig
  xmlns="http://www.crawler-lib.net/buildtools"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.crawler-lib.net buildconfig.xsd">

  <Solutions>
    <Solution Name ="NHunspell" Version="1.2">

      <Repository Type="HG" Url="http://opensource:xxxxxx@buildserver:8010/scm/hg/General/NHunspell" />

      <Build>
        <Settings Base ="..\Hunspell" Path="HunspellWindows.sln" VersionTool="Autover" BuildTool="MSBuild" NuGet="true">
          <Target Configuration="Release" Platform="x86" />
          <Target Configuration="Release" Platform="x64" />
        </Settings> 
        
        <Settings Base ="" Path="NHunspell.sln" VersionTool="Autover" BuildTool="MSBuild" NuGet="true">
          <Target Configuration="Release" Platform="Any CPU" />
          <!--
          <Target Configuration="Release" Platform="x86" />
          <Target Configuration="Release" Platform="x64" />
          -->
        </Settings> 
      </Build>
      

      <Test>
        <Settings Tool="NUnit" Assembly="UnitTests\bin\release\UnitTests.exe" Output="NUnitTestResult.xml"/>
        <Settings Tool="FxCop" Assembly="UnitTests\bin\release\NHunspell.dll" Output="FxCopTestResult.xml"/>
      </Test>

      <!-- Generate Packages -->
      <Package>
        <Settings Tool="NuGet" Path="NHunspell.nuspec" />
      </Package>      
     
     
      
      <Release>
        <File Path="UnitTests\bin\release\NHunspell.dll" Zipped="NHunspell.dll" Version="true" />
        <File Path="UnitTests\bin\release\NHunspell.pdb" Zipped="NHunspell.pdb" Version="false" />
        <File Path="UnitTests\bin\release\Hunspellx64.dll" Zipped="Hunspellx64.dll" Version="true" />
        <File Path="UnitTests\bin\release\Hunspellx64.pdb" Zipped="Hunspellx64.pdb" Version="false" />
        <File Path="UnitTests\bin\release\Hunspellx86.dll" Zipped="Hunspellx86.dll" Version="true" />
        <File Path="UnitTests\bin\release\Hunspellx86.pdb" Zipped="Hunspellx86.pdb" Version="false" />
      </Release>

      <!-- Publishing Files, {VERSION} in the path will be replaced with the current build version-->
      <Publish>
        <Settings Tool="FTP" Url="ftp://opensource:xxxxxx@buildserver">
          <File Path="NHunspell-{VERSION}.zip" />
        </Settings>
        <Settings Tool="NuGet" Url="http://buildserver:8050//nuget/OpenSource" ApiKey="7b6f71d9-6fad-4d07-9ae9-2c7e25ab6b73">
          <File Path="NHunspell.{VERSION}.nupkg" />
        </Settings>
      </Publish>      
    </Solution>

  </Solutions>
</BuildConfig>